#!/usr/bin/env bash
set -euo pipefail

# ============================================================
# MobSuite: mob_recon (plasmid reconstruction & typing)
# ============================================================

# ------------------------------------------------------------
# Tool path (edit as needed)
# ------------------------------------------------------------
MOB_RECON_BIN="/path/to/mob_recon"

# ------------------------------------------------------------
# Input / output
# ------------------------------------------------------------
INPUT_FASTA="/path/to/polished_assembly.fasta"
OUT_DIR="/path/to/mobsuite_output"

# ------------------------------------------------------------
# Parameters
# ------------------------------------------------------------
FORCE_OVERWRITE=1   # 1 = --force, 0 = off

# ------------------------------------------------------------
# Prepare output directory
# ------------------------------------------------------------
mkdir -p "$OUT_DIR"

# ------------------------------------------------------------
# Build command
# ------------------------------------------------------------
CMD=(
  "$MOB_RECON_BIN"
  --infile "$INPUT_FASTA"
  --outdir "$OUT_DIR"
)

[[ "$FORCE_OVERWRITE" == "1" ]] && CMD+=(--force)

# ------------------------------------------------------------
# Run
# ------------------------------------------------------------
"${CMD[@]}"
